"use strict";(self.webpackChunkvelaio_frontend=self.webpackChunkvelaio_frontend||[]).push([[887],{7887:(G,u,n)=>{n.r(u),n.d(u,{PersonsRoutingModule:()=>L});var f=n(1402),e=n(540),c=n(9181),k=n(8577),d=n(1229),b=n(7587),l=n(4341),C=n(9249),g=n(1392),m=n(177),h=n(60);function _(i,p){if(1&i){const t=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onClickSkill(r.skillId))}),e.j41(1,"h1",9),e.EFF(2),e.k0s(),e.nrm(3,"fa-icon",10),e.k0s()}if(2&i){const t=p.$implicit,o=e.XpG();e.ZvI("flex-1 flex flex-col ",o.personSkillsIds.includes(t.skillId)?"bg-tertiary":"bg-primary"," rounded-2xl p-2\n      justify-center items-center cursor-pointer"),e.R7$(2),e.JRh(t.skillName),e.R7$(1),e.Y8G("size","3x")("icon",t.skillIcon)}}let v=(()=>{class i{constructor(t,o,s){this.formBuilder=t,this._skillsService=o,this._peopleService=s,this.personForm=new l.gE({}),this.personSkillsIds=[],this.onClickCloseModalEmitter=new e.bkB}ngOnInit(){this.personForm=this.formBuilder.group({personName:["",[l.k0.required,l.k0.minLength(5)]],personBirthDate:[null,[l.k0.required,(0,C.C)(18)]],personSkillsId:[[],[l.k0.required,(0,C.E)()]]})}submitPerson(){this._peopleService.addPerson({...this.personForm.value,personId:this._peopleService.getPersonList().length+1,personIcon:"person"}),this.onClickCloseModalEmitter.emit()}onClickSkill(t){const o=this.personSkillsIds.indexOf(t);-1===o?this.personSkillsIds.push(t):this.personSkillsIds.splice(o,1),this.personForm.controls.personSkillsId.setValue(this.personSkillsIds)}get skills(){return this._skillsService.getSkillList()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(l.ok),e.rXU(g.M),e.rXU(c.Z))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-person-create"]],outputs:{onClickCloseModalEmitter:"onClickCloseModalEmitter"},decls:13,vars:6,consts:[[1,"flex","flex-col","gap-4",3,"formGroup","ngSubmit"],["for","personName",1,"block","mb-1","text-xs","font-medium","text-primary"],["type","text","id","personName","formControlName","personName","placeholder","Nombre completo","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["type","date","id","personBirthDate","formControlName","personBirthDate","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"flex","flex-row","flex-wrap","gap-1"],["type","button",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","flex-row-reverse"],[3,"buttonState","buttonType","buttonText","buttonClass","onClickEmitter"],["type","button",3,"click"],[1,"text-secondary"],[1,"text-secondary",3,"size","icon"]],template:function(o,s){1&o&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.submitPerson()}),e.j41(1,"div")(2,"label",1),e.EFF(3,"Nombre completo"),e.k0s(),e.nrm(4,"input",2),e.k0s(),e.j41(5,"div")(6,"label",1),e.EFF(7,"Fecha de Nacimiento"),e.k0s(),e.nrm(8,"input",3),e.k0s(),e.j41(9,"div",4),e.DNE(10,_,4,6,"button",5),e.k0s(),e.j41(11,"div",6)(12,"app-button",7),e.bIt("onClickEmitter",function(){return s.submitPerson()}),e.k0s()()()),2&o&&(e.Y8G("formGroup",s.personForm),e.R7$(10),e.Y8G("ngForOf",s.skills),e.R7$(2),e.Y8G("buttonState",s.personForm.invalid)("buttonType","submit")("buttonText","Crear persona")("buttonClass","text-secondary bg-primary hover:bg-tertiary"))},dependencies:[m.Sq,d.Q,h.aY,l.qT,l.me,l.BC,l.cb,l.YS,l.j4,l.JD]})}}return i})();var y=n(5383),x=n(8348),I=n(7533),P=n(6343);function S(i,p){if(1&i&&(e.j41(0,"div",9)(1,"h1",10),e.EFF(2),e.k0s(),e.nrm(3,"fa-icon",11),e.k0s()),2&i){const t=p.$implicit;e.R7$(2),e.JRh(t.skillName),e.R7$(1),e.Y8G("size","3x")("icon",t.skillIcon)}}function E(i,p){1&i&&(e.j41(0,"div"),e.nrm(1,"app-not-found",12),e.k0s()),2&i&&(e.R7$(1),e.Y8G("color","text-primary")("tittle","No cuenta con habilidades")("description","\xa1Sigue mejorando!"))}function V(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-modal",6),e.bIt("onClickCloseModalEmitter",function(){e.eBV(t);const s=e.XpG().$implicit,r=e.XpG();return e.Njj(r.setModalVisibility(s.personId))}),e.j41(1,"div",7),e.DNE(2,S,4,3,"div",8),e.DNE(3,E,2,3,"div",1),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG();e.Y8G("modalTitle","Habilidades de "+t.personName)("modalDescription","A continuaci\xf3n, puede observar las habilidades.")("modalVisibility",o.isModalVisible),e.R7$(2),e.Y8G("ngForOf",o.getSkillsFromIds(t.personSkillsId)),e.R7$(1),e.Y8G("ngIf",0===o.getSkillsFromIds(t.personSkillsId).length)}}function F(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",2)(1,"app-card",3),e.bIt("onClickEmitter",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deletePerson(r.personId))}),e.j41(2,"app-button",4),e.bIt("onClickEmitter",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.setModalVisibility(r.personId))}),e.k0s()(),e.DNE(3,V,4,5,"app-modal",5),e.k0s()}if(2&i){const t=p.$implicit,o=e.XpG();e.R7$(1),e.Y8G("cardTitle",t.personName)("cardDescription",o.getAge(t.personBirthDate)),e.R7$(1),e.Y8G("buttonType","button")("buttonText","Ver habilidades")("buttonClass","text-secondary bg-tertiary hover:bg-primary"),e.R7$(1),e.Y8G("ngIf",t.modalVisibility)}}function T(i,p){1&i&&e.nrm(0,"app-not-found")}let M=(()=>{class i{constructor(t,o,s){this._skillsService=t,this._peopleService=o,this._tasksService=s,this.personList=[],this.isModalVisible=!1,this.cardIcon=y.yLS}setModalVisibility(t){this.personList.find(o=>o.personId===t).modalVisibility=!this.personList.find(o=>o.personId===t).modalVisibility,this.isModalVisible=!this.isModalVisible}getSkillsFromIds(t){return this._skillsService.getSkillsFromIds(t)}getAge(t){const o=new Date,s=new Date(t);let r=o.getFullYear()-s.getFullYear();const a=o.getMonth()-s.getMonth();return(a<0||0===a&&o.getDate()<s.getDate())&&r--,r.toString()}deletePerson(t){this._peopleService.deletePerson(t),this._tasksService.deletePersonFromTasks(t),this.personList=this._peopleService.getPersonList()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(g.M),e.rXU(c.Z),e.rXU(x.w))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-person-list"]],inputs:{personList:"personList"},decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],[4,"ngIf"],[1,""],[3,"cardTitle","cardDescription","onClickEmitter"],[3,"buttonType","buttonText","buttonClass","onClickEmitter"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter",4,"ngIf"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter"],[1,"flex","flex-row","flex-wrap","gap-1"],["class","flex-1 flex flex-col bg-primary rounded-2xl p-2 justify-center items-center",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","bg-primary","rounded-2xl","p-2","justify-center","items-center"],[1,"text-secondary"],[1,"text-secondary",3,"size","icon"],[3,"color","tittle","description"]],template:function(o,s){1&o&&(e.DNE(0,F,4,6,"div",0),e.DNE(1,T,1,0,"app-not-found",1)),2&o&&(e.Y8G("ngForOf",s.personList),e.R7$(1),e.Y8G("ngIf",0===s.personList.length))},dependencies:[m.Sq,m.bT,I.i,d.Q,b.z,h.aY,P.X],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:1rem;flex:1;align-items:center;justify-content:center;align-content:center}"]})}}return i})();const j=[{path:"",component:(()=>{class i{constructor(t){this._peopleService=t,this.isModalVisible=!1,this.filteredPersonList=[],this.filteredPersonList=this._peopleService.getPersonList()}getInputValue(t){this.filteredPersonList=this._peopleService.getPersonList().filter(o=>o.personName.toLowerCase().includes(t.toLowerCase()))}setModalVisibility(){this.isModalVisible=!this.isModalVisible}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(c.Z))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-persons"]],decls:5,vars:8,consts:[[3,"tittle","subtitle","description","inputValueEmitter"],[3,"buttonText","onClickEmitter"],[3,"personList"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter"],[3,"onClickCloseModalEmitter"]],template:function(o,s){1&o&&(e.j41(0,"app-header-pages",0),e.bIt("inputValueEmitter",function(a){return s.getInputValue(a)}),e.j41(1,"app-button",1),e.bIt("onClickEmitter",function(){return s.setModalVisibility()}),e.k0s()(),e.nrm(2,"app-person-list",2),e.j41(3,"app-modal",3),e.bIt("onClickCloseModalEmitter",function(){return s.setModalVisibility()}),e.j41(4,"app-person-create",4),e.bIt("onClickCloseModalEmitter",function(){return s.setModalVisibility()}),e.k0s()()),2&o&&(e.Y8G("tittle","Gesti\xf3n de")("subtitle","personas")("description","En esta secci\xf3n puede eliminar, editar y crear nuevas personas."),e.R7$(1),e.Y8G("buttonText","Crear Persona"),e.R7$(1),e.Y8G("personList",s.filteredPersonList),e.R7$(1),e.Y8G("modalTitle","Creaci\xf3n de personas")("modalDescription","Ingrese los datos de la persona que desea crear.")("modalVisibility",s.isModalVisible))},dependencies:[k.f,d.Q,b.z,v,M],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;height:100%}"]})}}return i})()}];let L=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(j),f.iI]})}}return i})()}}]);