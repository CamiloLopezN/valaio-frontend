"use strict";(self.webpackChunkvelaio_frontend=self.webpackChunkvelaio_frontend||[]).push([[943],{4943:(D,u,a)=>{a.r(u),a.d(u,{TasksRoutingModule:()=>$});var f=a(1402),t=a(540),m=a(8348),T=a(8577),d=a(1229),C=a(7587),r=a(4341),h=a(9249),p=a(5383),g=a(1392),_=a(9181),k=a(177),b=a(60);function v(s,l){if(1&s){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){const n=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.onClickPerson(n.personId))}),t.j41(1,"h1",10),t.EFF(2),t.k0s(),t.nrm(3,"fa-icon",11),t.k0s()}if(2&s){const e=l.$implicit,i=t.XpG();t.ZvI("flex-1 flex flex-col ",i.peopleId.includes(e.personId)?"bg-tertiary":"bg-primary"," rounded-2xl p-2\n      justify-center items-center cursor-pointer"),t.R7$(2),t.JRh(e.personName),t.R7$(1),t.Y8G("size","3x")("icon",i.faUser)}}let x=(()=>{class s{constructor(e,i,o,n){this.formBuilder=e,this._skillsService=i,this._peopleService=o,this._tasksService=n,this.taskForm=new r.gE({}),this.peopleId=[],this.onClickCloseModalEmitter=new t.bkB,this.faUser=p.X46}ngOnInit(){this.taskForm=this.formBuilder.group({taskName:["",[r.k0.required,r.k0.minLength(5)]],taskLimitDate:["",[r.k0.required,r.k0.minLength(5)]],taskPeopleId:[[],[r.k0.required,(0,h.E)()]]})}submitTask(){this._tasksService.addTask({...this.taskForm.value,taskId:this._tasksService.getTaskList().length+1,taskIcon:"task",taskStatus:"PENDING"}),this.onClickCloseModalEmitter.emit()}onClickPerson(e){const i=this.peopleId.indexOf(e);-1===i?this.peopleId.push(e):this.peopleId.splice(i,1),this.taskForm.controls.taskPeopleId.setValue(this.peopleId)}get people(){return this._peopleService.getPersonList()}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(r.ok),t.rXU(g.M),t.rXU(_.Z),t.rXU(m.w))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-task-create"]],outputs:{onClickCloseModalEmitter:"onClickCloseModalEmitter"},decls:13,vars:6,consts:[[1,"flex","flex-col","gap-4",3,"formGroup","ngSubmit"],["for","taskName",1,"block","mb-1","text-xs","font-medium","text-primary"],["type","text","id","taskName","formControlName","taskName","placeholder","Nombre de la tarea","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["for","taskLimitDate",1,"block","mb-1","text-xs","font-medium","text-primary"],["type","date","id","taskLimitDate","formControlName","taskLimitDate","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"flex","flex-row","flex-wrap","gap-1"],["type","button",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","flex-row-reverse"],[3,"buttonState","buttonType","buttonText","buttonClass","onClickEmitter"],["type","button",3,"click"],[1,"text-secondary"],[1,"text-secondary",3,"size","icon"]],template:function(i,o){1&i&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return o.submitTask()}),t.j41(1,"div")(2,"label",1),t.EFF(3,"Nombre de la tarea"),t.k0s(),t.nrm(4,"input",2),t.k0s(),t.j41(5,"div")(6,"label",3),t.EFF(7,"Fecha limite"),t.k0s(),t.nrm(8,"input",4),t.k0s(),t.j41(9,"div",5),t.DNE(10,v,4,6,"button",6),t.k0s(),t.j41(11,"div",7)(12,"app-button",8),t.bIt("onClickEmitter",function(){return o.submitTask()}),t.k0s()()()),2&i&&(t.Y8G("formGroup",o.taskForm),t.R7$(10),t.Y8G("ngForOf",o.people),t.R7$(2),t.Y8G("buttonState",o.taskForm.invalid)("buttonType","submit")("buttonText","Crear persona")("buttonClass","text-secondary bg-primary hover:bg-tertiary"))},dependencies:[k.Sq,d.Q,b.aY,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD]})}}return s})();var y=a(7533),I=a(6343);function E(s,l){if(1&s&&t.nrm(0,"fa-icon",9),2&s){const e=t.XpG(2);t.Y8G("size","2xl")("icon",e.faCheck)}}function L(s,l){if(1&s){const e=t.RV6();t.j41(0,"fa-icon",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,n=t.XpG();return t.Njj(n.completeTask(o.taskId))}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("size","2xl")("icon",e.faClock)}}function V(s,l){if(1&s&&(t.j41(0,"div",14)(1,"h1",15),t.EFF(2),t.k0s()()),2&s){const e=l.$implicit;t.R7$(2),t.JRh(e.personName)}}function G(s,l){1&s&&(t.j41(0,"div"),t.nrm(1,"app-not-found",16),t.k0s()),2&s&&(t.R7$(1),t.Y8G("color","text-primary")("tittle","No cuenta con personal asignado")("description","\xa1Agregue mas personas!"))}function j(s,l){if(1&s){const e=t.RV6();t.j41(0,"app-modal",11),t.bIt("onClickCloseModalEmitter",function(){t.eBV(e);const o=t.XpG().$implicit,n=t.XpG();return t.Njj(n.setModalVisibility(o.taskId))}),t.j41(1,"div",12),t.DNE(2,V,3,1,"div",13),t.k0s(),t.DNE(3,G,2,3,"div",1),t.k0s()}if(2&s){const e=t.XpG().$implicit,i=t.XpG();t.Y8G("modalTitle","Nombre de la tarea: "+e.taskName)("modalDescription","La fecha limite es: "+e.taskLimitDate+" y el estado de la tarea es: "+e.taskStatus)("modalVisibility",i.isModalVisible),t.R7$(2),t.Y8G("ngForOf",i.getPeopleFromIds(e.taskPeopleId)),t.R7$(1),t.Y8G("ngIf",0===i.getPeopleFromIds(e.taskPeopleId).length)}}function M(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",2)(1,"app-card",3),t.bIt("onClickEmitter",function(){const n=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.deleteTask(n.taskId))}),t.j41(2,"div",4),t.DNE(3,E,1,2,"fa-icon",5),t.DNE(4,L,1,2,"fa-icon",6),t.j41(5,"app-button",7),t.bIt("onClickEmitter",function(){const n=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.setModalVisibility(n.taskId))}),t.k0s()()(),t.DNE(6,j,4,5,"app-modal",8),t.k0s()}if(2&s){const e=l.$implicit;t.R7$(1),t.Y8G("cardTitle",e.taskName)("cardDescription",e.taskLimitDate+" - "+("COMPLETED"===e.taskStatus?"Completada":"Pendiente")),t.R7$(2),t.Y8G("ngIf","COMPLETED"===e.taskStatus),t.R7$(1),t.Y8G("ngIf","PENDING"===e.taskStatus),t.R7$(1),t.Y8G("buttonType","button")("buttonText","Ver Personas")("buttonClass","text-secondary bg-tertiary hover:bg-primary"),t.R7$(1),t.Y8G("ngIf",e.modalVisibility)}}function F(s,l){1&s&&t.nrm(0,"app-not-found")}let N=(()=>{class s{constructor(e,i){this._peopleService=e,this._tasksService=i,this.taskList=[],this.isModalVisible=!1,this.faCheck=p.e68,this.faSpinner=p.z1G,this.faClock=p.a$}setModalVisibility(e){this.taskList.find(i=>i.taskId===e).modalVisibility=!this.taskList.find(i=>i.taskId===e).modalVisibility,this.isModalVisible=!this.isModalVisible}getPeopleFromIds(e){return this._peopleService.getPeopleFromIds(e)}deleteTask(e){this._tasksService.deleteTask(e),this.taskList=this._tasksService.getTaskList()}completeTask(e){this._tasksService.completeTask(e),this.taskList=this._tasksService.getTaskList()}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(_.Z),t.rXU(m.w))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-task-list"]],inputs:{taskList:"taskList"},decls:2,vars:2,consts:[["class","",4,"ngFor","ngForOf"],[4,"ngIf"],[1,""],[3,"cardTitle","cardDescription","onClickEmitter"],[1,"flex","flex-row","items-center","justify-between","w-full"],["class","text-tertiary cursor-not-allowed",3,"size","icon",4,"ngIf"],["class","text-tertiary cursor-pointer",3,"size","icon","click",4,"ngIf"],[3,"buttonType","buttonText","buttonClass","onClickEmitter"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter",4,"ngIf"],[1,"text-tertiary","cursor-not-allowed",3,"size","icon"],[1,"text-tertiary","cursor-pointer",3,"size","icon","click"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter"],[1,"flex","flex-row","flex-wrap","gap-1"],["class","flex-1 flex flex-col bg-primary rounded-2xl p-2 justify-center items-center",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","bg-primary","rounded-2xl","p-2","justify-center","items-center"],[1,"text-secondary"],[3,"color","tittle","description"]],template:function(i,o){1&i&&(t.DNE(0,M,7,8,"div",0),t.DNE(1,F,1,0,"app-not-found",1)),2&i&&(t.Y8G("ngForOf",o.taskList),t.R7$(1),t.Y8G("ngIf",0===o.taskList.length))},dependencies:[k.Sq,k.bT,y.i,d.Q,C.z,b.aY,I.X],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:1rem;flex:1;align-items:center;justify-content:center;align-content:center}"]})}}return s})();const S=[{path:"",component:(()=>{class s{constructor(e){this._tasksService=e,this.isModalVisible=!1,this.filteredTaskList=[],this.filteredTaskList=this._tasksService.getTaskList()}getInputValue(e){this.filteredTaskList=this._tasksService.getTaskList().filter(i=>i.taskName.toLowerCase().includes(e.toLowerCase())||i.taskStatus.toLowerCase().includes(e.toLowerCase()))}setModalVisibility(){this.isModalVisible=!this.isModalVisible}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(m.w))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-tasks"]],decls:5,vars:8,consts:[[3,"tittle","subtitle","description","inputValueEmitter"],[3,"buttonText","onClickEmitter"],[3,"taskList"],[3,"modalTitle","modalDescription","modalVisibility","onClickCloseModalEmitter"],[3,"onClickCloseModalEmitter"]],template:function(i,o){1&i&&(t.j41(0,"app-header-pages",0),t.bIt("inputValueEmitter",function(c){return o.getInputValue(c)}),t.j41(1,"app-button",1),t.bIt("onClickEmitter",function(){return o.setModalVisibility()}),t.k0s()(),t.nrm(2,"app-task-list",2),t.j41(3,"app-modal",3),t.bIt("onClickCloseModalEmitter",function(){return o.setModalVisibility()}),t.j41(4,"app-task-create",4),t.bIt("onClickCloseModalEmitter",function(){return o.setModalVisibility()}),t.k0s()()),2&i&&(t.Y8G("tittle","Gesti\xf3n de")("subtitle","tareas")("description","En esta secci\xf3n puede eliminar, editar y crear nuevas tareas. Ademas, asigne personas a las tareas y vea el estado delas mismas."),t.R7$(1),t.Y8G("buttonText","Crear Tarea"),t.R7$(1),t.Y8G("taskList",o.filteredTaskList),t.R7$(1),t.Y8G("modalTitle","Creaci\xf3n de tareas")("modalDescription","Ingrese los datos de la tarea que desea crear.")("modalVisibility",o.isModalVisible))},dependencies:[T.f,d.Q,C.z,x,N],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;height:100%}"]})}}return s})()}];let $=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(S),f.iI]})}}return s})()}}]);